{"version":3,"sources":["webpack:///./src/templates/markdown.js"],"names":["preprocessHeading","h","word","value","replace","split","join","depth","id","Markdown","markdownRemark","data","frontmatter","html","links","headings","map","item","name","indexOf","link","className","title","date","dangerouslySetInnerHTML","__html","author","length","idx","key"],"mappings":"2FAAA,oFAKMA,EAAoB,SAAAC,GACxB,IAAIC,EAAOD,EAAEE,MAAMC,QAAQ,YAAa,IAExC,OADAF,EAAOA,EAAKG,MAAM,KAAKC,KAAK,KACrB,CACLC,MAAON,EAAEM,MACTJ,MAAOF,EAAEE,MACTK,GAAG,IAAKN,IAWG,SAASO,EAAT,GAA6B,IAClCC,EADiC,EAARC,KACzBD,eACAE,EAAsBF,EAAtBE,YAAaC,EAASH,EAATG,KAGfC,EAFWJ,EAAeK,SAASC,IAAIhB,GAEtBgB,KAAI,SAAAC,GACzB,MAAO,CACLC,MAdaA,EAcID,EAAKd,OAbC,IAAvBe,EAAKC,QAAQ,KACRD,EAAKb,MAAM,KAAK,GAAK,IAEvBa,EAAKb,MAAM,KAAK,IAWnBe,KAAMH,EAAKT,IAfE,IAAAU,KAkBjB,OACE,kBAAC,IAAD,KACE,yBAAKG,UAAU,YACb,iCACE,4BAAKT,EAAYU,OACjB,2BAAIV,EAAYW,MAEhB,yBACEF,UAAU,mBACVG,wBAAyB,CAAEC,OAAQZ,MAGtCD,EAAYc,OAAOC,OAAS,GAC3B,6BAASN,UAAU,gBACjB,6CACCT,EAAYc,OAAOV,KAAI,SAACU,EAAQE,GAAT,OACtB,wBAAIC,IAAKD,GACNF,EADH,IACYE,EAAM,IAAMhB,EAAYc,OAAOC,OAAS,MAAQ,SAMpE,kBAAC,IAAD,CAASb,MAAOA","file":"component---src-templates-markdown-js-c8d062c3ad3d2a1360af.js","sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport { Layout, Sidebar } from \"../components/\"\n\nconst preprocessHeading = h => {\n  let word = h.value.replace(/[^\\w\\s]/gi, \"\")\n  word = word.split(\" \").join(\"-\")\n  return {\n    depth: h.depth,\n    value: h.value,\n    id: `#${word}`,\n  }\n}\n\nconst formatName = name => {\n  if (name.indexOf(\"?\") !== -1) {\n    return name.split(\"?\")[0] + \"?\"\n  }\n  return name.split(\":\")[0]\n}\n\nexport default function Markdown({ data }) {\n  const { markdownRemark } = data\n  const { frontmatter, html } = markdownRemark\n  const headings = markdownRemark.headings.map(preprocessHeading)\n\n  const links = headings.map(item => {\n    return {\n      name: formatName(item.value),\n      link: item.id,\n    }\n  })\n  return (\n    <Layout>\n      <div className=\"markdown\">\n        <section>\n          <h1>{frontmatter.title}</h1>\n          <p>{frontmatter.date}</p>\n\n          <div\n            className=\"markdown-content\"\n            dangerouslySetInnerHTML={{ __html: html }}\n          />\n        </section>\n        {frontmatter.author.length > 0 && (\n          <section className=\"contributors\">\n            <h4>Contributors:</h4>\n            {frontmatter.author.map((author, idx) => (\n              <li key={idx}>\n                {author} {idx + 1 !== frontmatter.author.length ? \"  |\" : \"\"}\n              </li>\n            ))}\n          </section>\n        )}\n      </div>\n      <Sidebar links={links} />\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query($slug: String!) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      html\n      headings {\n        depth\n        value\n      }\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        slug\n        title\n        author\n      }\n    }\n  }\n`\n"],"sourceRoot":""}